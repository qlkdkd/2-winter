## 03. 회귀 분석
### 1. 회귀분석 개요
### (1) 회귀분석의 개념
1. 회귀분석
  * 회귀분석: 하나 이상의 독립변수($x_1, x_2, x_3,...$들이 종속변수(y)에 얼마나 영향을 미치는지 추정하는 통계기법
  * 독립변수와 종속변수의 인과관계: 독립변수가 원인-> 종속변수에 영향을 미침
    * 독립변수=원인변수, 종속변수=겨과변수
  * 독립변수 1개-> 단순선형회귀분석, 2개 이상-> 다중선형회귀분석
  * 회귀분석은 기본적으로 연속형 변수일 때 사용, 범주형 변수일 경우 이를 파생변수로 변환하여 사용(종속변수가 범주형일 경우 로지스틱 회귀 사용)
  * 변수들이 일정한 경향성을 띔-> 그 변수들이 일정한 인과관계 가짐을 추측할 수 있음
    * 산점도를 봤을 때 일정한 추세선 나타남: 경향성 가지거나 변수들 간에 인과관계 존재
  * 아래 그림을 볼때
    * 2번 그림은 선형적 추세
    * 3번 그림은 2차 곡선 추세
    * 나머지는 어떤 추세선을 나타낸다고 보기 어려움
![image](https://github.com/qlkdkd/2-winter/assets/71871927/8eeeba14-31e7-458f-b8f1-5aad51826c59)

2. 회귀분석의 종류

종류|식|모형
---|---|---
단순회귀|$y=w_0+w_1x+b$|1개의 독립변수와 반응변수가 직선(선형)관계
다중회귀|$y=w_0+w_1x_1+w_2x_2+...+w_nx_n+b$|n개의 독립변수와 반응변수가 선형 관계
다항회귀|$y=w_0+w_1x^1+w_2x^2+...w_nx^n+b$|n개의 독립변수와 반응변수가 2차함수 이상의 관계
비선형회귀|$y=ae^{w_1x}+b$, $y=aln(w_1x)+b$, $y=asin(w_1x)+b$|회귀식이 미지의 모수들과 선형관계가 아닌 경우(지수함수, 로그함수, 삼각함수 등)

### (2) 회귀분석의 가정
* 선형성
  * 독립변수와 종속변수가 선형적
  * 2차함수 회귀선을 갖는 다항회귀분석은 선형성 필요 x
  * 산점도 통해 분석하기 전 변수 사이의 관계를 짐작할 수 있어 회귀분석 하기 전 상관분석 거의 필수적으로 함께 따라옴
 
* 독립성
  * 단순회귀분석: 잔차와 독립변수 서로 독립
  * 다중회귀분석(독립변수 여러개): 독립변수들 간에 상관성 없이 독립
  * 만약 독립변수들 상관관계 존재하는 경우: 다중공선성. 이를 제거하고 회귀분석을 수행해야 함
 
* 등분산성
  * 분산이 같다는 의미, 잔차가 고르게 분포하고 있음
  * 잔차의 중심에서 분산이 같아야 한다는 의미. 등분산성을 만족하지 못하면 회귀선은 어떤 추세를 띠지 못하고 덩어리(뭉친) 모양을 하게 됨
 
* 정규성
  * 잔차항이 정규분포 형태를 띠는 것
  * Q-Q plot에서 잔차가 오른쪽으로 상승하는 형태를 띄면 정규성 만족
 
* 오차와 잔차
  * 오차: 모집단의 데이터를 활용하여 회귀 식을 구한 경우 예측 값과 실제 값의 차이, 모집단
  * 잔차: 모집단을 특정할 수 없는 경우 모집단의 일부인 표본집단으로 회귀식 추정-> 이때 표본집단에 의해 추정된 회귀식의 예측값과 실제 값의 차이
 
* 잔차도
  * 예측값과 실제값의 차이을 나타낸 산점도
  * 예측값-실제값=0-> 잔차도=0
  * 잔차도를 활용하여 회귀식의 선형성, 등분산성의 가정성의 위배 여부 및 그에 대한 해결책을 찾을 수 있음
![image](https://github.com/qlkdkd/2-winter/assets/71871927/120cf4dc-819d-4487-943f-a4eba27a75b7)

---

### 2. 단순선형회귀분석
### (1) 회귀계수의 추정
1. 단순선형회귀분석
  * 독립변수와 종속변수가 1개씩일 때 둘 사이의 인과관계를 분석하는 것, 두 변수의 관계가 선형
  * 최소제곱법을 활용하여 실제 데이터와 오차가 가장 작아지는 직선의 방정식 찾음
$$y=w_0+w_1x+b$$
![image](https://github.com/qlkdkd/2-winter/assets/71871927/cbd5b7a9-8042-4be5-959c-001341675260)

2. 최소제곱법으로 회귀계수 추정
  * 회귀분석의 기본 알고리즘: 최소제곱법을 통해 매개변수 추정-> 추정된 매개변수를 통해 추세선을 그려 값을 예측하는 것
  * 최소제곱법: 실제 관측치와 추세선에 의해 예측된 점 사이의 거리(오차를 제곱해 더한 값)을 최소화하는 것
  * 좌표평면상에서 다양한 추세선이 그려질 수는 있지만, 잔차의 제곱 합이 최소가 되는 추세선이 가장 합리적인 추세선-> 이를 통해 회귀분석
  * 아래 그림에서 오차(파란색)제곱합이 왼쪽보다 오른쪽 직선이 더 작기 때문에 오른쪽 직선이 더 이상적인 회귀추세선
![image](https://github.com/qlkdkd/2-winter/assets/71871927/1338e6f3-74b1-4c93-9a86-ae0c31aea486)

### (2) 회귀분선모형의 적합성
1. 회귀분석의 분산분석표
  * 회귀분석의 결과에 대한 모형 적합성을 검정하기 위해서는 분산분석표 사용
  * 독립변수 1개-> 단순회귀분석, 독립변수 2개 이상-> 다중회귀분석
![image](https://github.com/qlkdkd/2-winter/assets/71871927/dfbff344-0bcf-4e70-a936-de26ed156222)
![image](https://github.com/qlkdkd/2-winter/assets/71871927/56939a5a-13c8-4937-b4ff-391799d06edd)

2. 회귀모형의 통계적 유의성 검증
  *
